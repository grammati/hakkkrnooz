<html op="item"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?gR6Qb2lTHRpCq5mLHBib">
        <link rel="shortcut icon" href="favicon.ico">
        <title>Libtins – High-level and multiplatform C++ network packet sniffing and crafting | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="http://www.ycombinator.com"><img src="y18.gif" width="18" height="18" style="border:1px white solid;"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b>
              <a href="newest">new</a> | <a href="newcomments">comments</a> | <a href="show">show</a> | <a href="ask">ask</a> | <a href="jobs">jobs</a> | <a href="submit">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a href="login?goto=item%3Fid%3D14429265">login</a>
                          </span></td>
              </tr></table></td></tr>
<tr style="height:10px"></tr><tr><td><table border="0">
        <tr class='athing' id='14429265'>
      <td align="right" valign="top" class="title"><span class="rank"></span></td>      <td valign="top" class="votelinks"><center><a id='up_14429265' href='vote?id=14429265&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><a href="http://libtins.github.io/" class="storylink">Libtins – High-level and multiplatform C++ network packet sniffing and crafting</a><span class="sitebit comhead"> (<a href="from?site=libtins.github.io"><span class="sitestr">libtins.github.io</span></a>)</span></td></tr><tr><td colspan="2"></td><td class="subtext">
        <span class="score" id="score_14429265">88 points</span> by <a href="user?id=adulau" class="hnuser">adulau</a> <span class="age"><a href="item?id=14429265">10 hours ago</a></span> <span id="unv_14429265"></span> | <a href="hide?id=14429265&amp;goto=item%3Fid%3D14429265">hide</a> | <a href="https://hn.algolia.com/?query=Libtins%20%E2%80%93%20High-level%20and%20multiplatform%20C%2B%2B%20network%20packet%20sniffing%20and%20crafting&sort=byDate&dateRange=all&type=story&storyText=false&prefix&page=0" class="hnpast">past</a> | <a href="https://www.google.com/search?q=Libtins%20%E2%80%93%20High-level%20and%20multiplatform%20C%2B%2B%20network%20packet%20sniffing%20and%20crafting">web</a> | <a href="item?id=14429265">13&nbsp;comments</a> | <a href="fave?id=14429265&amp;auth=49e74154e2bdafe30533093bd8181b1bac8fcda6">favorite</a>              </td></tr>
            <tr style="height:10px"></tr><tr><td colspan="2"></td><td>
          <form method="post" action="comment"><input type="hidden" name="parent" value="14429265"><input type="hidden" name="goto" value="item?id=14429265"><input type="hidden" name="hmac" value="1f93b42290062c1a36018ea76ab79640a937a48c"><textarea name="text" rows="6" cols="60"></textarea>
                <br><br><input type="submit" value="add comment"></form>
      </td></tr>
  </table><br><br>
  <table border="0" class='comment-tree'>
            <tr class='athing comtr ' id='14429604'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14429604' href='vote?id=14429604&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jzwinck" class="hnuser">jzwinck</a> <span class="age"><a href="item?id=14429604">7 hours ago</a></span> <span id="unv_14429604"></span><span class="par"></span> <a class="togg" n="5" href="javascript:void(0)" onclick="return toggle(event, 14429604)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">The linked page says &quot;High level != inefficient&quot; and shows an example program which will print &quot;every TCP packet&quot;.<p>With no &quot;if&quot; anywhere in the code, I wondered how it knew to print only TCP packets and not others.  And the answer turns out to be that it throws a C++ exception on every non-TCP packet!<p>If most of the packets on your network are TCP, this is sort of OK.  But if you have mostly non-TCP packets, this toy program costs about 10x the CPU utilization that it would if it used &quot;if&quot; instead of magic.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429604&amp;goto=item%3Fid%3D14429265%2314429604">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14429773'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_14429773' href='vote?id=14429773&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=_wmd" class="hnuser">_wmd</a> <span class="age"><a href="item?id=14429773">5 hours ago</a></span> <span id="unv_14429773"></span><span class="par"></span> <a class="togg" n="3" href="javascript:void(0)" onclick="return toggle(event, 14429773)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">There are plenty of ways they can keep the current API while eventually approaching optimal, for example, a chain of exceptions could incrementally refine the framework&#x27;s idea of what the callback function expects, which could be turned into a BPF filter.<p>So for the cost of a few expensive frames at start, afterwards no exceptions get thrown.<p>Generally speaking though, I&#x27;m only replying because I hate people negging on minutia of new projects. If you&#x27;re going to be critical of something especially when it&#x27;s a lone wolf effort (or even a small team), try to be constructive, there are real people on the other end of the wire.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429773&amp;goto=item%3Fid%3D14429265%2314429773">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14429818'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_14429818' href='vote?id=14429818&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tjoff" class="hnuser">tjoff</a> <span class="age"><a href="item?id=14429818">5 hours ago</a></span> <span id="unv_14429818"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14429818)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">I thought the criticism was quite valid.<p>If high efficiency wasn&#x27;t touted as a feature then it would have been fine. But when it turns out that one of the main selling points is performance (with no expressed limitations or restrictions) and regular patterns perform badly, as a consequence of the design, then it is quite valid criticism. (Whether this is the case in practice I don&#x27;t know but GP brings up a very valid point)<p>GPs point begs the question - Why was it designed in such as way? Quite possibly the tradeoffs were considered and the current solution was targeted because of several reasons. But the page doesn&#x27;t convey any of that, it simply states that &quot;<i>In fact, it is one of the fastest packet sniffing and interpretation libraries available.</i>&quot;.<p>While I agree with your point the library isn&#x27;t exactly marketed as a lone wolf effort either, and that will also affect the criticism it will receive.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429818&amp;goto=item%3Fid%3D14429265%2314429818">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
    <tr class='athing comtr ' id='14429848'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_14429848' href='vote?id=14429848&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jzwinck" class="hnuser">jzwinck</a> <span class="age"><a href="item?id=14429848">5 hours ago</a></span> <span id="unv_14429848"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14429848)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">A more charitable reading of my comment would be that I am recommending the use of &quot;if&quot; instead of C++ exceptions for hot-path control flow in high-performance libraries.<p>Heuristic construction of a packet filter based on previously seen exceptions is infeasible with the current API because rejection of the first N non-TCP packets does not guarantee rejection of the next one.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429848&amp;goto=item%3Fid%3D14429265%2314429848">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
      <tr class='athing comtr ' id='14430102'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_14430102' href='vote?id=14430102&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=garaetjjte" class="hnuser">garaetjjte</a> <span class="age"><a href="item?id=14430102">3 hours ago</a></span> <span id="unv_14430102"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14430102)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Note that in SnifferConfiguration you can set pcap-style filters.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430102&amp;goto=item%3Fid%3D14429265%2314430102">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
                <tr class='athing comtr ' id='14430973'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14430973' href='vote?id=14430973&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=CoC_CRUSHER" class="hnuser">CoC_CRUSHER</a> <span class="age"><a href="item?id=14430973">15 minutes ago</a></span> <span id="unv_14430973"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14430973)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Would love to see a header only version of this library.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430973&amp;goto=item%3Fid%3D14429265%2314430973">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
              <tr class='athing comtr ' id='14429812'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14429812' href='vote?id=14429812&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=hacknat" class="hnuser">hacknat</a> <span class="age"><a href="item?id=14429812">5 hours ago</a></span> <span id="unv_14429812"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14429812)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">If anybody is interested I wrote a zero-copy socket wrapper in golang it&#x27;s pretty fast and has built in layer detection and checksum functions:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;nathanjsweet&#x2F;zsocket" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;nathanjsweet&#x2F;zsocket</a><span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429812&amp;goto=item%3Fid%3D14429265%2314429812">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
              <tr class='athing comtr ' id='14430820'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14430820' href='vote?id=14430820&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=01572" class="hnuser">01572</a> <span class="age"><a href="item?id=14430820">52 minutes ago</a></span> <span id="unv_14430820"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14430820)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Since commenters are weighing in on packet construction libraries, what say you in re: libnet1.0&#x2F;libnet1.1?<p>libnet-based modular utilities that can be used in shell scripts:<p><a href="http:&#x2F;&#x2F;nemesis.sourceforge.net&#x2F;docs.html" rel="nofollow">http:&#x2F;&#x2F;nemesis.sourceforge.net&#x2F;docs.html</a><p>Also, earlier was nc-data.  Slow but allows constructing any packet from the command line.  Not limited to known packet formats.<p><a href="http:&#x2F;&#x2F;nc110.sourceforge.net" rel="nofollow">http:&#x2F;&#x2F;nc110.sourceforge.net</a><p>Let us hear your criticisms.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430820&amp;goto=item%3Fid%3D14429265%2314430820">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
              <tr class='athing comtr ' id='14429530'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14429530' href='vote?id=14429530&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ktta" class="hnuser">ktta</a> <span class="age"><a href="item?id=14429530">7 hours ago</a></span> <span id="unv_14429530"></span><span class="par"></span> <a class="togg" n="2" href="javascript:void(0)" onclick="return toggle(event, 14429530)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Also check out packit[1] a command line packet crafter. It is very easy to use once you really understand how to use it. Also it has no &#x27;restrictions&#x27; on what packets can be crafted. It lets you get away with as much as possible.<p>It should be readily available on most package managers, atleast debian based last time I checked.<p>[1]:<a href="http:&#x2F;&#x2F;packetfactory.openwall.net&#x2F;projects&#x2F;packit&#x2F;" rel="nofollow">http:&#x2F;&#x2F;packetfactory.openwall.net&#x2F;projects&#x2F;packit&#x2F;</a><span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429530&amp;goto=item%3Fid%3D14429265%2314429530">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14429655'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_14429655' href='vote?id=14429655&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=mariuolo" class="hnuser">mariuolo</a> <span class="age"><a href="item?id=14429655">6 hours ago</a></span> <span id="unv_14429655"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14429655)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">The active version appears to be hosted here:
<a href="https:&#x2F;&#x2F;github.com&#x2F;eribertomota&#x2F;packit" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;eribertomota&#x2F;packit</a><span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429655&amp;goto=item%3Fid%3D14429265%2314429655">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
                <tr class='athing comtr ' id='14429524'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14429524' href='vote?id=14429524&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ktta" class="hnuser">ktta</a> <span class="age"><a href="item?id=14429524">8 hours ago</a></span> <span id="unv_14429524"></span><span class="par"></span> <a class="togg" n="2" href="javascript:void(0)" onclick="return toggle(event, 14429524)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">&gt;Note: the scapy benchmarks look like it takes almost the same time as the impacket ones, but it actually doesn&#x27;t. In fact, it takes so much time that the maximum Y-axis value had to be restricted. Otherwise the rest of the bars couldn&#x27;t almost be seen. If you hover over each bar, you will see the actual times in seconds.<p>wow, they weren&#x27;t kidding. In the first and the last graph, scapy is ten times slower than the next slowest lib.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429524&amp;goto=item%3Fid%3D14429265%2314429524">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14429747'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_14429747' href='vote?id=14429747&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=d33" class="hnuser">d33</a> <span class="age"><a href="item?id=14429747">5 hours ago</a></span> <span id="unv_14429747"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14429747)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Well, scapy&#x27;s code is not of the highest quality - it still uses os.popen and calls tcpdump:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;secdev&#x2F;scapy&#x2F;blob&#x2F;728177bff883f170e9ac0042fa9723888ef6888d&#x2F;scapy&#x2F;arch&#x2F;linux.py" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;secdev&#x2F;scapy&#x2F;blob&#x2F;728177bff883f170e9ac004...</a><span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429747&amp;goto=item%3Fid%3D14429265%2314429747">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
                <tr class='athing comtr ' id='14429526'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14429526' href='vote?id=14429526&amp;how=up&amp;goto=item%3Fid%3D14429265'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jaimehrubiks" class="hnuser">jaimehrubiks</a> <span class="age"><a href="item?id=14429526">7 hours ago</a></span> <span id="unv_14429526"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14429526)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">How flexible it is despite being high level? I mean, can I use any field on those supported protocols? Can I tunnel TCP inside, say, dns? can I implement&#x2F;send custom protocols without touching the lib?<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429526&amp;goto=item%3Fid%3D14429265%2314429526">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
            </table>
      <br><br>
  </td></tr>
<tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br><center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a>
        | <a href="newsfaq.html">FAQ</a>
        | <a href="mailto:hn@ycombinator.com">Support</a>
        | <a href="https://github.com/HackerNews/API">API</a>
        | <a href="security.html">Security</a>
        | <a href="lists">Lists</a>
        | <a href="bookmarklet.html">Bookmarklet</a>
        | <a href="dmca.html">DMCA</a>
        | <a href="http://www.ycombinator.com/apply/">Apply to YC</a>
        | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br><form method="get" action="//hn.algolia.com/">Search:
          <input type="text" name="q" value="" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="false"></form>
            </center></td></tr>      </table></center></body><script type='text/javascript' src='hn.js?gR6Qb2lTHRpCq5mLHBib'></script></html>
