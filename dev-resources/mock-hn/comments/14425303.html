<html op="item"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?gR6Qb2lTHRpCq5mLHBib">
        <link rel="shortcut icon" href="favicon.ico">
        <title>Imperative Functional Programs That Explain Their Work | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="http://www.ycombinator.com"><img src="y18.gif" width="18" height="18" style="border:1px white solid;"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b>
              <a href="newest">new</a> | <a href="newcomments">comments</a> | <a href="show">show</a> | <a href="ask">ask</a> | <a href="jobs">jobs</a> | <a href="submit">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a href="login?goto=item%3Fid%3D14425303">login</a>
                          </span></td>
              </tr></table></td></tr>
<tr style="height:10px"></tr><tr><td><table border="0">
        <tr class='athing' id='14425303'>
      <td align="right" valign="top" class="title"><span class="rank"></span></td>      <td valign="top" class="votelinks"><center><a id='up_14425303' href='vote?id=14425303&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><a href="http://lambda-the-ultimate.org/node/5436" class="storylink">Imperative Functional Programs That Explain Their Work</a><span class="sitebit comhead"> (<a href="from?site=lambda-the-ultimate.org"><span class="sitestr">lambda-the-ultimate.org</span></a>)</span></td></tr><tr><td colspan="2"></td><td class="subtext">
        <span class="score" id="score_14425303">88 points</span> by <a href="user?id=mpweiher" class="hnuser">mpweiher</a> <span class="age"><a href="item?id=14425303">13 hours ago</a></span> <span id="unv_14425303"></span> | <a href="hide?id=14425303&amp;goto=item%3Fid%3D14425303">hide</a> | <a href="https://hn.algolia.com/?query=Imperative%20Functional%20Programs%20That%20Explain%20Their%20Work&sort=byDate&dateRange=all&type=story&storyText=false&prefix&page=0" class="hnpast">past</a> | <a href="https://www.google.com/search?q=Imperative%20Functional%20Programs%20That%20Explain%20Their%20Work">web</a> | <a href="item?id=14425303">6&nbsp;comments</a> | <a href="fave?id=14425303&amp;auth=edb4eb1fc202069eb63712db80a4bcdc7c36301e">favorite</a>              </td></tr>
            <tr style="height:10px"></tr><tr><td colspan="2"></td><td>
          <form method="post" action="comment"><input type="hidden" name="parent" value="14425303"><input type="hidden" name="goto" value="item?id=14425303"><input type="hidden" name="hmac" value="fcf7edb97a5de9b4224014cbed4605ed0ca46981"><textarea name="text" rows="6" cols="60"></textarea>
                <br><br><input type="submit" value="add comment"></form>
      </td></tr>
  </table><br><br>
  <table border="0" class='comment-tree'>
            <tr class='athing comtr ' id='14429270'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><a id='up_14429270' href='vote?id=14429270&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=marmaduke" class="hnuser">marmaduke</a> <span class="age"><a href="item?id=14429270">10 hours ago</a></span> <span id="unv_14429270"></span><span class="par"></span> <a class="togg" n="6" href="javascript:void(0)" onclick="return toggle(event, 14429270)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Could this be used to build better debuggers?<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429270&amp;goto=item%3Fid%3D14425303%2314429270">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14429721'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_14429721' href='vote?id=14429721&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=buttproblem" class="hnuser">buttproblem</a> <span class="age"><a href="item?id=14429721">6 hours ago</a></span> <span id="unv_14429721"></span><span class="par"></span> <a class="togg" n="4" href="javascript:void(0)" onclick="return toggle(event, 14429721)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Techniques like this can be used to make debugging better. There&#x27;s a lot of work towards this direction but there are some difficulties making it&#x27;s use widespread.<p>Some interested related work is Delta Debugging. Here, an automated tool runs a set of tests and uses slicing to narrow down statements in the program causing the bug. The gist of this is to look at the statements which occur on every failing execution and then present these to the end user. More tests causing the error will usually lead to a smaller explanation.<p>The paper here presented a dynamic slicing technique. The problem with dynamic slicing is runtime overhead. The most naive approach is to log the operands and output of every instruction in the program which is quite expensive. Traces for real world programs will probably be many gigabytes. I don&#x27;t have any numbers off the top of my head. But you could not deploy the instrumented version of the program for slicing to your users without it degrading performance. Intel recently added some hardware tracing to their processors which might offset this.<p>The alternative is static slicing where the program is not actually executed. Here, you give the slicer the statement of interest (e.g., a line of code where a seg fault occurred) and it will give you back the statements involved in the computation, same as in dynamic slicing. The problem here is accuracy. It&#x27;s difficult and expensive to know what a program does before executing it (e.g., what memory locations could be accessed by this location? What is the value of the index used to access this array). So, the slice is often too large, or the slicing algorithm is too complicated and fails to terminate in a reasonable time on a real program.<p>Of course for hard to diagnose bugs you could use techniques such as this, and maybe it would be beneficial. It&#x27;s hard to way the cost of wrangling with a slicing tool versus just staring at the code and trying to figure it out yourself. There&#x27;s many more similar debugging techniques which are also quite interesting (e.g., program synthesis to automatically find and repair bugs, using slicing with test case generation (e.g., fuzzing, symbolic execution) to focus towards particular code regions) but these are probably even more research-y and hard to use in practice.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14429721&amp;goto=item%3Fid%3D14425303%2314429721">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14430016'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks"><center><a id='up_14430016' href='vote?id=14430016&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=mannykannot" class="hnuser">mannykannot</a> <span class="age"><a href="item?id=14430016">4 hours ago</a></span> <span id="unv_14430016"></span><span class="par"></span> <a class="togg" n="3" href="javascript:void(0)" onclick="return toggle(event, 14430016)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">&gt;It&#x27;s hard to weigh the cost of wrangling with a slicing tool versus just staring at the code and trying to figure it out yourself.<p>I cannot provide figures, but for me, when debugging within code that is not my own, I find that even something as simple as a call tree is often a big help (it is complementary to a stack trace, as you often want to figure out what was going on before the failure.)<p>My guess is that more sophisticated and powerful tools for understanding software will do more to improve its development than yet another language.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430016&amp;goto=item%3Fid%3D14425303%2314430016">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14430756'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_14430756' href='vote?id=14430756&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=buttproblem" class="hnuser">buttproblem</a> <span class="age"><a href="item?id=14430756">1 hour ago</a></span> <span id="unv_14430756"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14430756)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">I&#x27;m curious about how you use this during debugging, would you mind elaborating on what language(s) you&#x27;re using the call-graph from?<p>I&#x27;m wondering because I&#x27;ve been studying building automated program reasoning tools and have found that even just creating the call-graph is difficult: I imagine the end result potentially confusing the user because it is either incomplete or overly pessimistic. For example, the LLVM call-graph (apart from not being in the language directly used by the developer) does not include edges from indirect calls because their targets cannot be resolved (so it is incomplete). Alternatively, in the case where you don&#x27;t know which function is called you can just add an edge to every function in the program (pessimistically).<p>The same story goes for the dependency graph.<p>I myself am a bit pessimistic myself about more powerful software understanding tools probably because I&#x27;ve been working on the problem for too long. It&#x27;s particularly difficult because the languages end up being too difficult to analyze, and there is a huge engineering effort in creating an analyzer which is tuneable to handle various language features efficiently. But, if you have a particular problem and a particular (subset) of the language it ends up working nicely.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430756&amp;goto=item%3Fid%3D14425303%2314430756">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
    <tr class='athing comtr ' id='14430641'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks"><center><a id='up_14430641' href='vote?id=14430641&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=agumonkey" class="hnuser">agumonkey</a> <span class="age"><a href="item?id=14430641">1 hour ago</a></span> <span id="unv_14430641"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14430641)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Call tree and deps graph is mandatory to me.<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430641&amp;goto=item%3Fid%3D14425303%2314430641">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
        <tr class='athing comtr ' id='14430876'><td>
            <table border='0'>  <tr>    <td class='ind'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks"><center><a id='up_14430876' href='vote?id=14430876&amp;how=up&amp;goto=item%3Fid%3D14425303'><div class='votearrow' title='upvote'></div></a></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=amelius" class="hnuser">amelius</a> <span class="age"><a href="item?id=14430876">38 minutes ago</a></span> <span id="unv_14430876"></span><span class="par"></span> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 14430876)"></a>          <span class='storyon'></span>
                  </span></div><br><div class="comment">
                  <span class="c00">Are there any other applications of this technique than debuggers?<p>Speculative execution maybe?<span>
              </span><div class='reply'>        <p><font size="1">
                      <u><a href="reply?id=14430876&amp;goto=item%3Fid%3D14425303%2314430876">reply</a></u>
                  </font>
      </div></td></tr>
      </table></td></tr>
              </table>
      <br><br>
  </td></tr>
<tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br><center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a>
        | <a href="newsfaq.html">FAQ</a>
        | <a href="mailto:hn@ycombinator.com">Support</a>
        | <a href="https://github.com/HackerNews/API">API</a>
        | <a href="security.html">Security</a>
        | <a href="lists">Lists</a>
        | <a href="bookmarklet.html">Bookmarklet</a>
        | <a href="dmca.html">DMCA</a>
        | <a href="http://www.ycombinator.com/apply/">Apply to YC</a>
        | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br><form method="get" action="//hn.algolia.com/">Search:
          <input type="text" name="q" value="" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="false"></form>
            </center></td></tr>      </table></center></body><script type='text/javascript' src='hn.js?gR6Qb2lTHRpCq5mLHBib'></script></html>
